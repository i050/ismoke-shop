# ====================================
# Nixpacks Configuration - Backend
# ====================================

[phases.setup]
nixPkgs = ["nodejs_20"]

[phases.install]
# מתקין את כל ה-dependencies כולל devDependencies — נדרש לשלב הbuild
cmds = ["npm ci"]

[phases.build]
# קומפיל TypeScript ל-JavaScript — חובה בproduction
cmds = ["npm run build && echo 'TypeScript build completed successfully'"]

[start]
cmd = "npm run start"
