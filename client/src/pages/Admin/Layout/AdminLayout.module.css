/* Layout 专砖 砖 专  */

.adminLayout {
  display: flex;
  height: 100vh; /*  拽注 -  min-height */
  overflow: hidden; /* 注  注 -layout 注爪 */
  background: var(--color-bg-primary);
  background-image: 
    radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(16, 185, 129, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
  direction: rtl;
}

/* 砖转 专拽注  转驻专  */
.mobileOverlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 99;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

/* 专 转 专 -  -scroll container */
.mainContent {
  flex: 1;
  margin-right: var(--nav-width); /* 专 注专 驻 爪 */
  overflow-y: auto; /*  拽专转 ! */
  overflow-x: hidden; /* 注  驻拽转 */
  height: 100%; /* 转驻住 转   */
  display: flex;
  flex-direction: column;
}

/* Header 拽注 / - 砖专 拽 注转  */
.mobileHeader {
  position: sticky;
  top: 0;
  z-index: 50;
  background: var(--color-bg-primary);
  /* backdrop-filter 驻拽 转  砖 转转 */
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--color-border);
  padding: var(--spacing-md);
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: var(--spacing-sm);
}

/* 转专转   */
.mobileTitle {
  margin: 0;
  font-size: var(--font-size-lg, 1.125rem);
  font-weight: var(--font-weight-semibold, 600);
  color: var(--color-text-primary);
}

.hamburgerButton {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-sm);
  border-radius: var(--radius-sm);
  background: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  color: var(--color-text-primary);
  cursor: pointer;
  transition: var(--transition-fast);
}

.hamburgerButton:hover {
  background: var(--color-bg-hover);
}

/* 转 祝 - 转转 -TopBar */
.pageContent {
  flex: 1;
  padding: var(--spacing-xl);
}

/* Responsive - 住 拽 */
@media (max-width: 768px) {
  .adminLayout {
    overflow-x: hidden; /* 注  驻拽转  */
  }

  .mainContent {
    margin-right: 0; /* 驻 住转专  */
  }

  .pageContent {
    padding: var(--spacing-md);
  }
}

/* Desktop and larger - use grid layout so the sidebar is part of flow
   and does not overlay page content. This prevents the sidebar from
   covering the main content on medium/large screens. */
@media (min-width: 769px) {
  .adminLayout {
    display: grid;
    height: 100vh;
    overflow: hidden;
    /* RTL layout: grid columns are placed from right-to-left, so
       define nav first so it sits on the right column in RTL */
    grid-template-columns: var(--nav-width) 1fr;
    grid-template-areas: "nav content";
    align-items: stretch; /* stretch  砖转  转   */
  }

  /* Navigation panel sits in the second column instead of fixed */
  /* mainContent will be the first column */
  .mainContent {
    margin-right: 0; /* remove fixed offset */
    grid-area: content;
    padding: var(--spacing-xl);
    height: 100%;
    overflow-y: auto;
  }

  /* -desktop -mobileHeader 住转专 专 -JSX */
}

@media (max-width: 480px) {
  .mainContent {
    margin-right: 0; /* 驻 住转专  */
  }

  .pageContent {
    padding: var(--spacing-sm);
  }

  /* 拽 转 -header 驻转专 拽转 砖专  */
  .mobileHeader {
    height: 52px;
    padding: var(--spacing-sm);
    gap: var(--spacing-xs);
  }

  .mobileTitle {
    font-size: var(--font-size-base, 1rem);
  }

  .hamburgerButton {
    padding: 4px;
    min-width: 36px;
    min-height: 36px;
  }

  .hamburgerButton svg {
    width: 18px;
    height: 18px;
  }
}

/* =============================================================================
   ADMIN LAYOUT OVERRIDES - Force full-width content on desktop
   Purpose: Some admin pages used `max-width` and `margin: 0 auto` causing them
   to remain centered and not span the full width on large desktops. This rule
   overrides those local restrictions for children of `.pageContent` on
   desktop (min-width: 769px). It uses `!important` sparingly to ensure the
   layout expands correctly while avoiding changes to mobile behavior.
   ============================================================================= */
@media (min-width: 769px) {
  .pageContent > * {
    max-width: none !important;
    margin: 0 !important;
    width: 100% !important;
  }

  /* Fallback: some components use `.container` or `.form` classes */
  .pageContent .container,
  .pageContent .form,
  .pageContent .productsPage,
  .pageContent .categoriesPage {
    max-width: none !important;
    margin: 0 !important;
    width: 100% !important;
  }

  /*  Fallback global rule: force all descendants under the admin main scroll container
     to allow full-width layout on desktop. This is intentionally broad to override
     any remaining local centering rules that use module-scoped classes or inline styles. */
  [data-scroll-container="admin-main"] * {
    max-width: none !important;
    /* margin: 0 removed - let components maintain their spacing */
    box-sizing: border-box !important; /* keep padding inside width */
  }

  /* Ensure top-level direct children occupy full width */
  [data-scroll-container="admin-main"] > * {
    width: 100% !important;
    max-width: none !important;
  }

  /* Specific fix: the global `.app-container` sets `max-width` and `margin: 0 auto` which
     keeps the admin centered. When AdminLayout is rendered inside `.app-container` we
     need the admin area to occupy the full viewport width on large screens. */
  :global(.app-container) .adminLayout {
    max-width: none !important;
    margin: 0 !important;
    width: 100vw !important; /* force full viewport width */
    padding: 0 !important; /* remove outer padding so grid can span fully */
  }

  /* Also ensure the app-container itself does not constrain width while admin is active */
  :global(.app-container) {
    max-width: none !important;
    margin: 0 !important;
    width: 100% !important;
    padding: 0 10px !important; /* keep small side padding if desired */
  }
}
/* 住 拽  (注 360px) - 拽 注 转专 */
@media (max-width: 360px) {
  .mobileHeader {
    /*   - 注 砖  住 拽 */
    height: 48px;
    padding: 4px var(--spacing-xs);
  }

  .mobileTitle {
    font-size: var(--font-size-sm, 0.875rem);
  }

  .hamburgerButton {
    /* 驻转专 拽  注 注 WCAG minimum touch target (32px) */
    padding: 3px;
    min-width: 32px;
    min-height: 32px;
  }

  .hamburgerButton svg {
    width: 16px;
    height: 16px;
  }
}

/* Scrollbar 注爪 专 转 */
.mainContent::-webkit-scrollbar {
  width: 8px;
}

.mainContent::-webkit-scrollbar-track {
  background: transparent;
}

.mainContent::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: 4px;
}

.mainContent::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-tertiary);
}
